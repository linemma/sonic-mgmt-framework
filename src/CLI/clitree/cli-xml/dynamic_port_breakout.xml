<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE CLISH_MODULE [
<!ENTITY START_PORT_ID "1">
<!ENTITY MAX_PORT_ID "32">
<!ENTITY START_SUB_PORT_ID "1">
<!ENTITY MAX_SUB_PORT_ID "4">
<!ENTITY MAX_MTU "9216">
]>
<CLISH_MODULE xmlns="http://www.dellemc.com/sonic/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xi="http://www.w3.org/2001/XInclude" xsi:schemaLocation="http://www.dellemc.com/sonic/XMLSchema http://www.dellemc.com/sonic/XMLSchema/clish.xsd">
  <VIEW name="enable-view">
    <COMMAND name="show interface breakout" help="Show port-breakout information">
        <PARAM
             name="dpb-subcommands"
             help="Breakout subcommands"
             mode="switch"
             ptype="SUBCOMMAND"
             >
            <PARAM name="dependencies" help="Show dependent configuations on interface" ptype="SUBCOMMAND" mode="subcommand">
                <PARAM name="Ethernet" help="Ethernet IEEE 802.3" ptype="SUBCOMMAND" mode="subcommand">
                    <PARAM name="phy-if-id" help="Physical interface" ptype="UINT">
                    </PARAM>
                </PARAM>
            </PARAM>
            <PARAM name="Ethernet" help="Ethernet IEEE 802.3" ptype="SUBCOMMAND" mode="subcommand">
                <PARAM name="phy-if-id" help="Physical interface" ptype="UINT">
                </PARAM>
            </PARAM>
        </PARAM>
        <ACTION builtin="clish_pyobj">sonic_cli_breakout get_openconfig_platform_port_components_component_port_breakout_mode_config show_interface_breakout.j2 ${phy-if-id} </ACTION>
      <xi:include href="include/pipe.xml"/>
      <DOCGEN>
          <DESCRIPTION>
              Show the dependent configurations on interfaces.
          </DESCRIPTION>
          <USAGE>
              Use this command to show the dependent configurations on an interface.

          </USAGE>
          <EXAMPLE>
              sonic# show interface breakout Ethernet 0
              =============================
              Interface     Breakout mode
              =============================
              Ethernet0     4x25G
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>
  </VIEW>
  <VIEW name="configure-if-view">
    <COMMAND name="no breakout" help="Change the port breakout mode to default">
      <ACTION builtin="clish_pyobj">sonic_cli_breakout delete_openconfig_platform_port_components_component_port_breakout_mode_config ${iface} </ACTION>
    </COMMAND>
    <COMMAND name="breakout" help="Port breakout configuration commands">
       <PARAM name="breakout_mode" help="breakout mode" ptype="DPB_MODE"/>
      <ACTION builtin="clish_pyobj">sonic_cli_breakout patch_openconfig_platform_port_components_component_port_breakout_mode_config ${iface} ${breakout_mode}</ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Breakout a port
          </DESCRIPTION>
          <USAGE>
              Use this command breakout a port.
          </USAGE>
          <EXAMPLE>
              sonic# configure terminal
              sonic(config)# port-breakout Ethernet0 4x25
              sonic(config)# no port-breakout Ethernet0
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>
  </VIEW>
</CLISH_MODULE>
